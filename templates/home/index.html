<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevChat Web版</title>
    <link rel="stylesheet" href="{{ url_for('static', path='styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='home/styles.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body class="bg-white">
    <!--
    <nav class="navbar navbar-dark app-bar">
        <div class="container-fluid">
            <div class="row">
                <p class="title text-light">
                    DevChat
                </p>
            </div>
        </div>
    </nav>
    -->
    <div class="container-fluid">
        <div class="row d-flex">
            <div class="col-2">
                <a href="/">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="black" class="bi bi-box-arrow-left" viewBox="0 0 16 16" style="margin-top: 1.8vh;">
                        <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"/>
                        <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
                      </svg>
                </a>
            </div>
            <div class="col">
                <h2 class="appbar-title text-center">
                    トークリスト
                </h2>
            </div>
        </div>
        <div class="row d-flex">
            <div class="col d-flex align-items-center justify-content-center">
                <div style="position: absolute; opacity:0;">
                    <input id="copyTarget" type="text" value="https://devchat.jp/add/{{uid}}" readonly>
                </div>
                <button class="btn login" onclick="copyToClipboard()" style="margin-top: 1vh;margin-bottom: 1vh;">
                    <p class="login" id="add-link">
                        友達追加リンクを生成する
                    </p>
                </button>
            </div>
        </div>
        <div class="row d-flex">
            <div class="col d-flex align-items-center justify-content-center">
                <a href="/create_group">
                    <button class="btn login" style="margin-top: 1vh;margin-bottom: 1vh;">
                        <p class="login">
                            グループを作成する
                        </p>
                    </button>
                </a>
            </div>
        </div>
        <div class="row d-flex">
            <div class="col d-flex align-items-center justify-content-center">
                <a href="/change_icon">
                    <button class="btn login" style="margin-top: 1vh;margin-bottom: 3vh;">
                        <p class="login">
                            アイコンを変更する
                        </p>
                    </button>
                </a>
            </div>
        </div>
    </div>
    <div class="list-group">
        {% for group_data in group_datas %}
        <a href="/group/{{group_data['gid']}}" class="list-group-item list-group-item-action" aria-current="true">
            <div class="d-flex w-100">
                <img src="{{group_data['icon_url']}}" alt="" class="rounded-circle" width="15%">
            <div class="container">
                <div class="row">
                    <h5 class="mb-1">{{group_data['name']}}</h5>
                </div>
            </div>
          </div>
        </a>     
        {% endfor %}
        {% for user_data in user_datas %}
        <a href="/profile/{{user_data['uid']}}" class="list-group-item list-group-item-action" aria-current="true">
            <div class="d-flex w-100">
                <img src="{{user_data['icon_url']}}" alt="" class="rounded-circle" width="15%">
            <div class="container">
                <div class="row">
                    <h5 class="mb-1">{{user_data['name']}}</h5>
                </div>
            </div>
          </div>
        </a>
        {% endfor %}
      </div>
    <script>
        function copyToClipboard() {
            // コピー対象をJavaScript上で変数として定義する
            var copyTarget = document.getElementById("copyTarget");

            // コピー対象のテキストを選択する
            copyTarget.select();

            // 選択しているテキストをクリップボードにコピーする
            document.execCommand("Copy");

            document.getElementById("add-link").textContent = "コピーされました"

        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
</body>
</html>